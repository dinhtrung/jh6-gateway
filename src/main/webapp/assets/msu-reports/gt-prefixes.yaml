# CC NC Country Network name TADIG CODE MCC MNC
title: GT Prefixes
apiEndpoint: /services/vnpti-msu/api/gt-prefixes
importApiEndpoint: /services/vnpti-msu/api/import-csv/gt-prefixes
importApiResponseType: 'blob'
predicate: 'prefix'
reverse: true
tasks:
  - name: Export CSV
    fileUrl: /services/vnpti-msu/api/export-csv/gt-prefixes
    fileName: 'gt_prefixes.csv'
    icon: file-csv
  - name: Truncate Data
    icon: dumpster
    apiEndpoint: /services/vnpti-msu/api/data-management/gt-prefixes
    method: DELETE
    successMsg: Successfully truncate all GT Prefixes
columns:
  - prop: network.name
    label: Network Name
    pattern: ci(contains(${ term }))
  - prop: network.tadigcode
    label: TADIGCODE
    pattern: ci(contains(${ term }))
  - prop: network.mcc
    label: Mobile Country Code
  - prop: network.mnc
    label: Mobile Network Code
  - prop: ndc
    label: Network Destination Code
  - prop: network.country.name
    label: Country Name
    pattern: ci(contains(${ term }))
  - prop: network.country.countryCode
    label: Country Code
    pattern: ci(contains(${ term }))
  - prop: prefix
    label: GT Prefix
    pattern: contains(${ term })
fields:
  - fieldGroupClassName: row
    fieldGroup:
      - key: network
        type: ng-select
        className: col-md-6
        templateOptions:
          label: Network Operator
          description: Operator this GT Prefix belong to
          multiple: false
          apiEndpoint: '/services/vnpti-msu/api/network-operators'
          val: name
          termPattern: 'ci(contains(${term}))'
      - key: ndc
        type: input
        className: col-md-6
        templateOptions:
          label: NDC
          description: Network Destination Code
          required: true
          maxlength: 6
  - key: _info
    type: template
    expressionProperties:
      templateOptions.innerHTML: 'model.network && model.ndc && model.network.country && _.set(model, "prefix", model.network.country.countryCode + model.ndc) && _.template("<ul><li><strong>GT Prefix:</strong> ${prefix}</li><li><strong>Country Code:</strong> ${ network.country.countryCode }</li><li><strong>Country Name:</strong> ${ network.country.name }</li><li><strong>TADIG Code:</strong> ${ network.tadigcode }</li><li><strong>Mobile Country Code:</strong> ${ network.mcc }</li><li><strong>Mobile Network Code:</strong> ${ network.mnc }</li></ul>")(model)'
    templateOptions:
      label: Information
      innerHTML:
